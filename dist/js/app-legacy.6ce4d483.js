(function(){var t={6700:function(t,s,e){var n={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":2924,"./de-ch.js":2924,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":9671,"./he.js":9671,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3212,"./pl.js":3212,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function r(t){var s=a(t);return e(s)}function a(t){if(!e.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id=6700},4671:function(t,s,e){"use strict";e(6992),e(8674),e(9601),e(7727);var n=e(8935),r=e(7133),a=e.n(r),i=e(150),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},c=[],u=e(1001),l={},d=(0,u.Z)(l,o,c,!1,null,null,null),f=d.exports,m=e(2809),p=e(7906),h=e(6198),j=(e(8309),e(1539),e(3948),e(4665)),v=e(3445),g=(e(2222),e(6166)),b=e.n(g),w="http".concat("s","://").concat("lol.stupidfru.it","/api");function _(t){return console.log({NODE_ENV:"production",VUE_APP_BACKEND_URL:"lol.stupidfru.it",VUE_APP_SECURE:"s",VUE_APP_TITLE:"Raffle Entries",BASE_URL:"/raffle-entries-vue/"},w),b().post("".concat(w,"/login"),t)}function y(t){return C.apply(this,arguments)}function C(){return C=(0,h.Z)((0,p.Z)().mark((function t(s){return(0,p.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",b().get("".concat(w,"/entries"),{headers:{Authorization:"RAF ".concat(s)}}));case 1:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}e(4916),e(3123),e(5505),e(7714),e(2801),e(4097);var k=new n["default"];function x(t){if(!t||t.split(".").length<3)return!1;var s=JSON.parse(atob(t.split(".")[1])),e=new Date(1e3*s.exp),n=new Date;return n<e}n["default"].use(j.ZP);var E={entries:[],user:"",jwt:""},$={login:function(t,s){return(0,h.Z)((0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit("setUserInfo",{userData:s}),e.abrupt("return",_(s).then((function(s){t.commit("setJwtToken",{jwt:s.data}),t.commit("setUserData",{data:s.data})})).catch((function(t){console.log("Error Authenticating: ",t),k.$emit("failedAuthentication",t)})));case 2:case"end":return e.stop()}}),e)})))()},getUserEntries:function(t){return y(t.state.jwt.token)},logout:function(t){t.commit("logoutUser",{context:t})}},z={setUserInfo:function(t,s){t.user=s.userData.name},setJwtToken:function(t,s){t.jwt=s.jwt.token},setUserData:function(t,s){t.userid=s.data.userid},logoutUser:function(t){t.userid="",t.user="",t.jwt="",t.entries=0}},P={isAuthenticated:function(t){return x(t.jwt)},userInfo:function(t){return t.user},userId:function(t){return t.userid},userToken:function(t){return t.jwt}},O=new j.ZP.Store({state:E,actions:$,mutations:z,getters:P,plugins:[(0,v.Z)()]}),Z=O,U=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"nav"},[t._m(0),t._m(1),t._m(2),e("ul",{staticClass:"ms-auto"},[e("div",{staticClass:"hero"},[t.isAuthenticated?e("div",[t._v(" Hi "),e("a",{attrs:{href:"/logout"}},[t._v(t._s(t.username))])]):t._e()])])]),e("b-container",[e("div",[t._v(" Entered "+t._s(t.userEntries.length)+" "+t._s(1==t.userEntries.length?"raffle":"raffles")+" ")]),e("b-row",{staticClass:"float-left"},t._l(t.userEntries,(function(s){return e("b-card-group",{key:s.id,staticClass:"col-lg-2 col-sm-6",attrs:{deck:""}},[e("b-card",{staticClass:"shadow-lg mb-2",staticStyle:{"max-width":"15rem"}},[e("b-card-title",[e("b-row",[e("b-col",{staticClass:"col-md-9"},[e("a",{attrs:{href:"/maker/id/"+s.maker_id}},[e("div",{staticClass:"text-truncate"},[t._v(t._s(s.maker_display))])])]),e("b-col",{staticClass:"mx-auto text-center col-md-3 "},[!0===s.result?e("span",{staticClass:"rounded result-green px-1"},[t._v(" W ")]):e("span",{staticClass:"rounded result-red px-2"},[t._v(" L ")])])],1)],1),e("b-card-text",[e("a",{attrs:{href:"/entry/id/"+s.id}},[t._v(" "+t._s(t.moment(1e3*s.epoch).format("YYYY-MM-DD"))+", "+t._s(t.moment(1e3*s.epoch).format("ddd"))+" ")])]),e("b-card-text",[e("a",{attrs:{href:s.raffle_link,target:"_blank"}},[e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(s.notes)+" ")])])]),e("b-card-footer",[e("b-row",[e("b-col",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn success",attrs:{value:"flip"}},[t._v("Flip")])]),e("b-col",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn primary",attrs:{value:"edit"}},[t._v("Edit")])])],1)],1)],1)],1)})),1)],1)],1)},A=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{},[e("li",{staticClass:"nav-item"},[t._v("Home")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",{staticClass:"nav-item"},[t._v("New Entry")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",{staticClass:"nav-item"},[t._v("New Maker")])])}],M={name:"HomeView",components:{},data:function(){return{username:this.$store.getters.userInfo,userid:this.$store.getters.userId,userEntries:""}},ready:function(){this.created()},created:function(){var t=this;return(0,h.Z)((0,p.Z)().mark((function s(){return(0,p.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,y(t.$store.getters.userToken);case 2:t.userEntries=s.sent.data.data;case 3:case"end":return s.stop()}}),s)})))()},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{}},D=M,R=(0,u.Z)(D,U,A,!1,null,null,null),L=R.exports,N=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("section",{staticClass:"hero is-primary"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container has-text-centered"},[e("h2",{staticClass:"title"},[t._v("Login")]),e("p",{staticClass:"subtitle error-msg"},[t._v(t._s(t.errorMsg))])])])]),e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label is-large",attrs:{for:"name"}},[t._v("Username: "),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input is-large",attrs:{type:"name",id:"name"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label is-large",attrs:{for:"password"}},[t._v("Password: "),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input is-large",attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])])]),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.authenticate}},[t._v("Login")]),e("a",{staticClass:"button is-success",attrs:{onKeyPress:"register"}},[t._v("Register")])])])])])},T=[],V={name:"LoginView",data:function(){return{name:"",password:"",errorMsg:""}},methods:{authenticate:function(){var t=this;this.$store.dispatch("login",{name:this.name,password:this.password}).then((function(){return t.$router.push("/").catch((function(){}))}))},register:function(){var t=this;this.$store.dispatch("register",{name:this.name,password:this.password}).then((function(){return t.$router.push("/login")}))}},mounted:function(){var t=this;k.$on("failedRegistering",(function(s){t.errorMsg=s}))},beforeDestroy:function(){k.$off("failedRegistering"),k.$off("failedAuthentication")}},S=V,I=(0,u.Z)(S,N,T,!1,null,null,null),q=I.exports,F=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("section",{staticClass:"hero is-primary"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container has-text-centered"},[e("h2",{staticClass:"title"},[t._v("Register")]),e("p",{staticClass:"subtitle error-msg"},[t._v(t._s(t.errorMsg))])])])]),e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label is-large",attrs:{for:"name"}},[t._v("Username: "),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input is-large",attrs:{type:"name",id:"name"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label is-large",attrs:{for:"password"}},[t._v("Password: "),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input is-large",attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])])]),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.register}},[t._v("Login")]),e("a",{staticClass:"button is-success",attrs:{onKeyPress:"register"}},[t._v("Register")])])])])])},H=[],Y={name:"LoginView",data:function(){return{name:"",password:"",errorMsg:""}},methods:{authenticate:function(){var t=this;this.$store.dispatch("login",{name:this.name,password:this.password}).then((function(){return t.$router.push("/").catch((function(){}))}))},register:function(){var t=this;this.$store.dispatch("register",{name:this.name,password:this.password}).then((function(){return t.$router.push("/login")}))}},mounted:function(){var t=this;k.$on("failedRegistering",(function(s){t.errorMsg=s}))},beforeDestroy:function(){k.$off("failedRegistering"),k.$off("failedAuthentication")}},J=Y,K=(0,u.Z)(J,F,H,!1,null,null,null),B=K.exports,G=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(t._s(t.msg))])])},W=[],X={name:"PingView",data:function(){return{msg:""}},methods:{getMessage:function(){var t=this,s="http://localhost:5000/api/ping";b().get(s).then((function(s){t.msg=s.data})).catch((function(t){console.error(t)}))}},created:function(){this.getMessage()}},Q=X,tt=(0,u.Z)(Q,G,W,!1,null,null,null),st=tt.exports;n["default"].use(m.Z);var et=new m.Z({mode:"history",base:"/raffle-entries-vue/",routes:[{path:"/",name:"HomeView",component:L,beforeEnter:function(t,s,e){Z.getters.isAuthenticated?e():e("/login")}},{path:"/login",name:"LoginView",component:q},{path:"/logout",name:"Logout",component:{beforeRouteEnter:function(t,s,e){var n={path:s.path||"/login",query:s.query||"",params:s.params||""};Z.dispatch("logout"),e(n)}}},{path:"/register",name:"RegisterView",component:B},{path:"/ping",name:"PingView",component:st}]});e(44);n["default"].config.productionTip=!0,n["default"].use(i.XG7),n["default"].prototype.moment=a(),new n["default"]({router:et,store:Z,render:function(t){return t(f)}}).$mount("#app")}},s={};function e(n){var r=s[n];if(void 0!==r)return r.exports;var a=s[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}e.m=t,function(){var t=[];e.O=function(s,n,r,a){if(!n){var i=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],a=t[l][2];for(var o=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(e.O).every((function(t){return e.O[t](n[c])}))?n.splice(c--,1):(o=!1,a<i&&(i=a));if(o){t.splice(l--,1);var u=r();void 0!==u&&(s=u)}}return s}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,r,a]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,n){var r,a,i=n[0],o=n[1],c=n[2],u=0;if(i.some((function(s){return 0!==t[s]}))){for(r in o)e.o(o,r)&&(e.m[r]=o[r]);if(c)var l=c(e)}for(s&&s(n);u<i.length;u++)a=i[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(l)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(4671)}));n=e.O(n)})();
//# sourceMappingURL=app-legacy.6ce4d483.js.map